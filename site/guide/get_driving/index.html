<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Get driving. - Donkey Car</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Get driving.";
    var mkdocs_page_input_path = "guide/get_driving.md";
    var mkdocs_page_url = "/guide/get_driving/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-99215530-2', 'github.io/donkey');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Donkey Car</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">User Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../build_hardware/">Build a car.</a>
                </li>
                <li class="">
                    
    <a class="" href="../install_software/">Install the software.</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Get driving.</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#drive-your-car">Drive your car.</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#start-your-car">Start your car.</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#normal-usage">Normal usage</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#create-your-car-application">Create your car application.</a></li>
        
            <li><a class="toctree-l4" href="#driving-with-web-controller">Driving with Web Controller</a></li>
        
            <li><a class="toctree-l4" href="#driving-with-physical-joystick-controller">Driving with Physical Joystick Controller</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../calibrate/">Calibrate steering and throttle.</a>
                </li>
                <li class="">
                    
    <a class="" href="../train_autopilot/">Train an autopilot.</a>
                </li>
                <li class="">
                    
    <a class="" href="../simulator/">Donkey Simulator.</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Parts</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../parts/about/">About</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/actuators/">Actuators</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/controllers/">Controllers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/stores/">Stores</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parts/imu/">IMU</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Utilities</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../utility/donkey/">donkey</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../contribute/">Contribute</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../tests/">Tests</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../release/">Releases</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../faq/">FAQ</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Donkey Car</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>User Guide &raquo;</li>
        
      
    
    <li>Get driving.</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/wroscoe/donkey/edit/master/docs/guide/get_driving.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="drive-your-car">Drive your car.</h1>
<p>After you've calibrated your car you can start driving it. </p>
<h3 id="start-your-car">Start your car.</h3>
<blockquote>
<p><strong><em> Put your car in a safe place where the wheels are off the ground </em></strong> This
is the step were the car can take off. </p>
</blockquote>
<hr />
<h1 id="normal-usage">Normal usage</h1>
<p>In future runs, when you start a new session, you will want to:</p>
<p>On Windows:</p>
<ul>
<li>start a new Anaconda Prompt from Windows start menu</li>
<li>Activate mappings to donkey Python setup with: <code>activate donkey</code></li>
<li>Change to your local dir for managing donkey: <code>cd ~/d2</code></li>
<li>Find your pi</li>
</ul>
<p>This will show your IP address, prompt for your password, and then search 
for your cars IP address. </p>
<blockquote>
<p>If your car's IP address is not shown:</p>
<ol>
<li>Find another way to scan your local network for your raspberry pi </li>
<li>Connect a monitor/keyboard and ensure your pi is connected to the the same wifi network as your computer. </li>
</ol>
</blockquote>
<p>Assuming that you did find your pi on the network, you can now connect to it via SSH. </p>
<pre><code>ssh pi@&lt;your_pi_ip_address&gt;
</code></pre>

<p>The default user name is 'pi' and the password is 'raspberry'.  If you are using the pre-built Donkey image, the password is 'asdfasdf'.</p>
<h3 id="create-your-car-application">Create your car application.</h3>
<pre><code>donkey createcar --template donkey2 --path ~/d2
</code></pre>

<p>See also <a href="../../utility/donkey/#create-car">more information.</a></p>
<h4 id="start-your-car_1">Start your car.</h4>
<p>Open your car's folder and start your car. </p>
<pre><code>cd ~/d2
python manage.py drive
</code></pre>

<p>This script will start the drive loop in your car which includes a part that 
is a web server for you to control your car. You can now control your car
from a web browser at the URL: <code>&lt;your car's IP's address&gt;:8887</code></p>
<p><img alt="drive UI" src="../../assets/drive_UI.png" /></p>
<h2 id="driving-with-web-controller">Driving with Web Controller</h2>
<p>On your phone you can now press start to set your phones current tilt to be
zero throttle and steering. Now tilting your phone forward will increase throttle and tilting it side to side will turn the steering. </p>
<h3 id="features">Features</h3>
<ul>
<li>Recording - Press record data to start recording images, steering angels and throttle values. </li>
<li>Throttle mode - Option to set the throttle as constant. This is used in 
races if you have a pilot that will steer but doesn't control throttle. </li>
<li>Pilot mode - Choose this if the pilot should control the angle and/or throttle.</li>
<li>Max throttle - Select the maximum throttle.</li>
</ul>
<h3 id="keyboard-shortcuts">Keyboard shortcuts</h3>
<ul>
<li><code>space</code> : stop car and stop recording</li>
<li><code>r</code> : toggle recording</li>
<li><code>i</code> : increase throttle</li>
<li><code>k</code> : decrease throttle</li>
<li><code>j</code> : turn left </li>
<li><code>l</code> : turn right </li>
</ul>
<hr />
<h2 id="driving-with-physical-joystick-controller">Driving with Physical Joystick Controller</h2>
<p>You may find that it helps to use a physical joystick device to control your vehicle.</p>
<h3 id="setup-bluetooth-and-pair-joystick">Setup Bluetooth and pair joystick</h3>
<p>Check the <a href="../../parts/controllers/#physical-joystick-controller">Controllers</a> section to read about setting up the bluetooth connection.</p>
<h3 id="start-car">Start car</h3>
<pre><code>cd ~/d2
python manage.py drive --js
</code></pre>

<p>Optionally, if you want joystick use to be sticky and don't want to add the --js each time, modify your config.py so that USE_JOYSTICK_AS_DEFAULT = True</p>
<pre><code>nano config.py
</code></pre>

<h3 id="joystick-controls">Joystick Controls</h3>
<ul>
<li>Left analog stick - Left and right to adjust steering</li>
<li>Right analog stick - Forward to increase forward throttle</li>
<li>Pull back twice on right analog to reverse</li>
</ul>
<blockquote>
<p>Whenever the throttle is not zero, driving data will be recorded - as long as you are in User mode!</p>
</blockquote>
<ul>
<li>Select button switches modes - "User, Local Angle, Local(angle and throttle)"</li>
<li>Triangle - Increase max throttle</li>
<li>X  - Decrease max throttle</li>
<li>Circle - Toggle recording (disabled by default. auto record on throttle is enabled by default)</li>
<li>dpad up - Increase throttle scale</li>
<li>dpad down - Decrease throttle scale</li>
<li>dpad left - Increase steering scale</li>
<li>dpad right - Decrease steering scale</li>
<li>Start - Toggle constant throttle. Sets to max throttle (modified by X and Triangle).</li>
</ul>
<h3 id="start-car-for-self-driving">Start car for self-driving</h3>
<pre><code>cd ~/d2
python manage.py drive --model &lt;path/to/model&gt; --js
</code></pre>

<p>Hit the Select button to toggle between three modes - User, Local Angle, and Local Throttle &amp; Angle.</p>
<ul>
<li>User - User controls both steering and throttle with joystick</li>
<li>Local Angle - Ai controls steering, user controls throttle</li>
<li>Local Throttle &amp; Angle - Ai controls both steering and throttle</li>
</ul>
<p>When the car is in Local Angle mode, the NN will steer. You must provide throttle.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../calibrate/" class="btn btn-neutral float-right" title="Calibrate steering and throttle.">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../install_software/" class="btn btn-neutral" title="Install the software."><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/wroscoe/donkey" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../install_software/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../calibrate/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
